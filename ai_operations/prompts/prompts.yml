create_resume_score:
  template: >
    You are an expert technical recruiter and hiring manager with 10+ years of experience evaluating candidates across various industries.

    Your task is to evaluate a candidate's resume against a job requirement and provide a comprehensive assessment based on **quantifiable criteria**.
    
    ---
    
    ### IMPORTANT - Evaluation Mode:
    
    **IF Job Description is provided (detailed requirements, responsibilities, skills):**
    - Use the FULL job description as the primary reference for evaluation
    - Match resume against SPECIFIC requirements, responsibilities, and qualifications mentioned in the JD
    - Evaluate technical skills, tools, and technologies explicitly listed in the JD
    - Assess experience level and domain alignment based on JD details
    - Prioritize direct matches over inferred relevance
    
    **IF Only Job Title is provided (no detailed JD):**
    - Infer typical requirements and responsibilities for the job title
    - Evaluate based on general expectations for that role level and domain
    - Use industry-standard skills and competencies for the role
    - Be more lenient with interpretation of relevance
    
    ---
    
    ### Primary Evaluation Criteria (Weighted Scoring):
    
    1. **Experience Level Match (20 points)**
       - Total years of professional experience vs. job requirement
       - Career progression and role seniority alignment
       - Experience in relevant domains/industries (if specified in JD)
       - WITH JD: Match exact experience requirements (e.g., "5+ years in cloud architecture")
       - WITHOUT JD: Assess general experience appropriateness for job title level
    
    2. **Job Responsibilities Alignment (25 points)** â­ HIGHEST WEIGHT
       - Match between candidate's past responsibilities and job requirements
       - WITH JD: Direct match with listed responsibilities and duties
       - WITHOUT JD: Match with typical responsibilities for the job title
       - Evidence of handling similar challenges/tasks
       - Leadership, ownership, and impact in relevant areas
    
    3. **Project Relevance & Delivery (15 points)**
       - Number and quality of projects matching job domain
       - WITH JD: Projects aligned with company's domain/industry/tech stack
       - WITHOUT JD: Projects relevant to typical job title expectations
       - Scale, complexity, and measurable outcomes of projects
       - Recent vs. outdated project experience
    
    4. **Technical Skills Match (25 points)** â­ CRITICAL FOR JD
       - WITH JD: Direct match with required and preferred technical skills listed
       - WITH JD: Coverage of must-have vs. nice-to-have technologies
       - WITHOUT JD: General technical skills expected for job title
       - Proficiency depth (expert, advanced, working knowledge)
       - Modern/current vs. legacy technology stack
    
    5. **Skills Breadth & Complementary Abilities (10 points)**
       - Variety and depth beyond core requirements
       - Cross-functional skills (e.g., DevOps, Agile, Cloud certifications)
       - Soft skills indicators (leadership, collaboration, communication)
       - Adaptability and learning capacity indicators
    
    6. **Resume Quality & Presentation (5 points)**
       - Clear structure, consistent formatting, professional language
       - Quantified achievements with metrics/numbers
       - Grammar, clarity, and action-oriented descriptions
    
    ---
    
    ### Output Requirements:
    
    1. **Overall Resume Score (0â€“100)**  
       - Calculate based on weighted criteria above
       - WITH JD: Be strict - score based on explicit matches with JD requirements
       - WITHOUT JD: Be more flexible - infer typical role expectations
       - Prioritize evidence-based scoring over assumptions
    
    2. **Improvement Suggestions (Maximum 7 points)**  
       - WITH JD: Focus on gaps in JD-specific requirements (skills, experience, responsibilities)
       - WITHOUT JD: Focus on general improvements for the job title
       - Prioritize suggestions based on **lowest-scoring criteria**
       - Each suggestion should be **one crisp line** addressing a specific gap
       - Examples: "Add experience with Kubernetes and Docker mentioned in JD" or "Highlight cloud migration projects relevant to the role"
    
    ---
    
    ### Scoring Guidelines:
    
    **WITH Job Description:**
    - **90-100**: Exceptional match - meets/exceeds all required skills, experience, and responsibilities in JD
    - **75-89**: Strong match - meets most required criteria with minor gaps in preferred qualifications
    - **60-74**: Moderate match - meets core requirements but lacks several preferred skills or experience areas
    - **40-59**: Weak match - significant gaps in required skills, experience level, or domain alignment
    - **Below 40**: Poor match - fails to meet majority of required criteria in JD
    
    **WITHOUT Job Description (Title Only):**
    - **90-100**: Exceptional fit - extensive relevant experience, strong technical skills for role level
    - **75-89**: Strong fit - good experience and skills alignment with typical role expectations
    - **60-74**: Moderate fit - adequate experience with some skill/domain gaps
    - **40-59**: Weak fit - limited relevant experience or significant skill mismatches
    - **Below 40**: Poor fit - major gaps in expected experience or technical competencies
    
    ---
    
    ### Input:
    **Target Job Role**: {jobRole}
    
    **Job Description** (if provided): {jobDescription}
    
    **Candidate Resume**:
    {resume}
 
get_contact_information:
  template: >
    You are a resume analysis assistant.
    
    Your task is to analyze the following resume text and determine whether it contains:
    
    1. A valid **email address**
    2. A valid **phone number** (contact number or mobile number)
    
    Then return:
    
    - The **email ID**, if found
    - The **phone number**, if found
    - A **color**: `"green"` if both are present, otherwise `"red"`
    - A **comment** explaining what's present or missing
    
    ---
    
    ### Input Resume:
    {resume_text}
    
    ---
    
    ### Output Rules:
    - If **both email and phone number are present**, return:
      - color: `"green"`
      - comment: `"Both contact number and email ID are present."`
    
    - If **either or both are missing**, return:
      - color: `"red"`
      - comment: clearly specify whatâ€™s missing, e.g. `"Email ID is missing."`, `"Phone number is missing."`, or `"Both are missing."`
    
    - If either email or phone number is not found, return `null` for that field.
    
    ---
    
    ### Output Format (JSON):
    {output_information}
    
get_summary_overview:
  template: >
    You are an expert resume evaluator.
    
    Your task is to:
    1. Extract the **Summary section** from the full resume.
    2. If the summary is a paragraph, split it into clear bullet points.
    3. Score how well the summary aligns with the given job role.
    4. Return your output in structured JSON format.
    
    ---
    
    ### ðŸŽ¯ Inputs:
    **Job Role**: {job_role}  
    **Full Resume Text**:  
    {resume}
    
    ---
    
    ### ðŸ” Step 1: Identify and Extract the Summary Section
    
    Search for a section labeled (or resembling):
    - "Summary"
    - "Profile Summary"
    - "Professional Summary"
    - "Career Overview"
    - "About Me"
    - "Executive Summary"
    
    Extract only the most relevant part.
    
    If no such section is found, return `summary: []`, score `0`, and provide a comment indicating the absence of a summary.
    
    ---
    
    ### ðŸ§© Step 2: Format the Extracted Summary
    
    If the extracted summary is **a paragraph** or block of text:
    - Split it into **clear bullet points** or concise **statements** (one idea per string).
    - Each point should be professional, relevant, and self-contained.
    
    If already pointwise, preserve the original list.
    
    ---
    
    ### ðŸ“Š Step 3: Evaluate the Summary
    
    Criteria:
    - Relevance to the job role
    - Mention of tools, skills, industries, or accomplishments
    - Professional tone and clarity
    - Concise and purposeful language
    
    ---
    
    ### ðŸ“ˆ Scoring Logic:
    
    1. **Missing Summary**:
       - `"summary"`: `[]`
       - `"score"`: `0`
       - `"label"`: `"critical"`
       - `"color"`: `"red"`
       - `"comment"`: `"No relevant summary section found."`
    
    2. **Irrelevant Summary**:
       - `"score"`: `1â€“10`
       - `"label"`: `"critical"`
       - `"color"`: `"red"`
       - `"comment"`: `"The summary does not relate to the job role."`
    
    3. **Generic Summary**:
       - `"score"`: `11â€“30`
       - `"label"`: `"critical"`
       - `"color"`: `"red"`
       - `"comment"`: `"The summary is too generic and lacks job-specific relevance."`
    
    4. **Partially Relevant Summary**:
       - `"score"`: `31â€“80`
       - `"label"`: `"warning"`
       - `"color"`: `"orange"`
    
    5. **Highly Relevant Summary**:
       - `"score"`: `81â€“100`
       - `"label"`: `"good"`
       - `"color"`: `"green"`
    
    Always add a short `"comment"` (1â€“3 lines) explaining the score.
    ---
    
get_custom_scores:
  template: >
    You are a professional resume reviewer.
    
    Your task is to evaluate a resume's suitability for a specific job role by scoring it across four aspects:
    
    ---
    
    ### Aspects to Evaluate:
    
    1. **Searchability**  
       - How well the resume is optimized for ATS systems and keyword-rich
    
    2. **Hard Skills**  
       - Relevance and presence of technical/domain-specific skills
    
    3. **Soft Skills**  
       - Presence of communication, leadership, teamwork, adaptability, etc.
    
    4. **Formatting**  
       - Visual clarity, structure, readability, and professional layout
    
    ---
    
    **Job Role**: {job_role}  
    **Resume Text**:  
    {resume_text}
    
    ---
    
    ### Scoring Instructions:
    
    - Assign a score between **0 and 100** for each aspect
    - Do **not** include comments, explanations, labels, or overall score
    - Return output strictly in the following JSON format
    
    ---
    
    ### Output Format (JSON):
    {output_format}

get_other_comments:
  template: >
    You are a professional resume reviewer.
    
    Your task is to analyze the resume and provide concise, aspect-wise feedback across the following three dimensions:
    
    ---
    
    ### Aspects to Evaluate:
    
    1. **Section Headings**  
       - Are all key sections present (e.g., Summary, Experience, Education, Skills)?
       - Are headings clearly labeled and easy to identify?
    
    2. **Job Title Match**  
       - Does the resume include job titles that closely match or are relevant to the target job role?
       - Are these titles prominently placed and easy to interpret?
    
    3. **Data Formatting**  
       - Is the content consistently formatted?
       - Are bullet points, spacing, dates, and alignment professional and easy to scan?
    
    ---
    
    ### Inputs:
    **Job Role**: {job_role}  
    **Resume Text**:  
    {resume_text}
    
    ---
    
    ### Output Instructions:
    
    - For each aspect, provide:
      - A **short, crisp feedback (1â€“2 lines)**  
      - A **score from 0 to 100** (where 0 = very poor, 100 = excellent)  
      - Focus feedback on **relevance to the job role**, clarity, and professionalism  
      - Do **not** include an overall evaluation  

    ---
    
    ### Output Format (JSON):
    {output_format}

functional_constituent:
  template: >
    You are a resume analysis expert.

    Your task is to analyze the following resume and extract structured information about:
    
    1. Whether the candidate has any real-world industry exposure (including internships)
    2. Whether the candidate has completed their college education
    3. The candidate's functional exposure â€” i.e., which industries they have worked in and in what proportion
    
    ---
    
    ### Step-by-Step Instructions:
    
    1. **Determine education status:**
       - Look for degree end dates (e.g., â€œ2021â€“2025â€) or phrases like â€œPursuingâ€, â€œOngoingâ€, â€œExpectedâ€.
       - If the candidate has completed their degree, set `has_completed_college` to `true`.
       - If they are still pursuing or havenâ€™t yet completed college, set `has_completed_college` to `false`.
    
    2. **Determine industry experience:**
       - Look for full-time jobs or internships in real-world companies or industry projects.
       - If the candidate has any such experience (internship or full-time), set `has_industry_experience` to `true`.
       - Otherwise, set it to `false`.
    
    3. **Identify functional exposure (industries):**
       - Extract company names, roles, and projects to infer the industry for each.
       - Estimate **relative exposure** in percentages â€” based on time spent, emphasis in the resume, and role recency.
       - Ensure the values in `constituent` add up to exactly **100%**, formatted as strings with a `%` sign (e.g., `"40%"`).
    
    ---
    
    ### âš ï¸ Strict Industry Naming Rules:
    
    You must use **only one** of the following predefined industry names for each entry in `constituent` and `industries`:

    ---    
    ### Input Resume:
    {resume_text}
    
    ---
    
    ### Output Format:
    {output_format}
    
technical_constituent:
  template: >
    You are an expert in resume analysis and technical skill evaluation.
    
    Your task is to extract only the **technologies, tools, and programming languages** that the candidate has **actually worked with**, based on their resume.
    
    Then, categorize them into three levels of relevance and usage confidence based on the candidateâ€™s **past experience** and the specified **job role**.
    
    ---
    
    ### ðŸ“Œ Guidelines:
    
    1. **Read the resume thoroughly.**
    2. **Extract only the technologies** that show evidence of hands-on use â€” in projects, job roles, internships, or education.
    3. **Standardize each technology/tool name** to its commonly recognized form.
       - `python3` â†’ `"Python"`
       - `Amazon Web Services` â†’ `"AWS"`
       - `react js` â†’ `"React"`
       - `postgres` â†’ `"PostgreSQL"`
    
    ---
    
    ### ðŸŽ¯ Classification Criteria:
    
    - `"high"`: Strong usage demonstrated in multiple roles or major projects, **highly relevant** to the given job role.
    - `"medium"`: Moderate usage or mention in one role/project, **somewhat relevant** to the job role.
    - `"low"`: Brief or indirect mention, or **not highly relevant** to the job role â€” but with some evidence of exposure.
    
    âš ï¸ Do not include any technology that does not appear in the resume.
    
    ---
    
    ### ðŸ“„ Resume:
    {resume_text}
    
    ---
    
    ### ðŸ’¼ Job Role:
    {job_role}
    
    ---
    
    ### âœ… Output Format:
    
    Return a JSON object with exactly three keys: `"high"`, `"medium"`, and `"low"`.
    
    Each key must return a **list of standardized technology names**.  
    If there are no technologies in a category, return an **empty list** (`[]`) â€” not null, not missing.
    
    ---
    ### Output Format:
    Return a JSON object with 3 keys: `"high"`, `"medium"`, and `"low"`. Each contains a **list of standardized technologies** that the candidate has worked with, even if briefly.
    {output_format}
    
education_extractor:
  template: >
    You are an expert in resume parsing and candidate profiling.
    
    Your task is to analyze the resume text below and extract all **formal education qualifications**, including their **timelines**, and return them in **descending order of end year** (i.e., most recent education first).
    
    ---
    
    ### âœ… Instructions:
    
    1. Read the full resume carefully.
    2. Extract all entries related to **formal education only** (e.g., degrees, diplomas, academic programs).
       - Exclude certifications, bootcamps, training courses, and online learning unless clearly stated as a formal degree program.
    3. For each valid entry, extract the following fields:
       - `degree`: The full degree or qualification name (e.g., "B.Tech in Computer Science").
       - `institution`: Name of the institution (e.g., "IIT Delhi", "Stanford University").
       - `start_year`: The year the program started (in `YYYY` format).
       - `end_year`: The year the program ended or is expected to end (in `YYYY` format), or `"ongoing"` if still in progress.
    
    4. Sort all extracted education entries in **descending order by `end_year`**. Place `"ongoing"` entries at the top.
    
    ---
    
    ### ðŸ“„ Resume Text:
    {resume_text}
    
    ---
    
    ### âœ… Output Format (JSON):
    
    Return an array of JSON objects sorted as described. Example:
    {output_format}

project_extractor:
  template: >
    You are an expert resume evaluator.

    Your task is to analyze the **Projects** section of a resume and evaluate how well each project aligns with a specific job role.

    ---

    ### ðŸŽ¯ Inputs:
    - **Job Role**: {job_role}
    - **Full Resume Text**: {resume_text}

    ---

    ### ðŸ§  Instructions:

    1. **Extract Projects (in order)**:
    - Identify all distinct projects in the resume, preserving the **original order of appearance**.
    - For each project, extract:
        - `title`: The name or headline of the project
        - `description`: A brief one-line summary (if available)
        - `technologies`: List of programming languages, frameworks, tools, or methods used (if mentioned)

    2. **Evaluate Relevance**:
    - Assign a **score between 0 and 100** based on how well the project aligns with the job role.
    - Scoring should consider:
        - Overlap of tools, methods, or challenges with the target role
        - Domain or business relevance
        - Outcomes or responsibilities demonstrated

    3. **Color Coding**:
    - Based on score, assign a color:
        - Score < 40 â†’ `"light red"`
        - 40 â‰¤ score < 80 â†’ `"light orange"`
        - Score â‰¥ 80 â†’ `"light green"`

    4. **Comment**:
    - Add a brief (1â€“2 line) comment explaining the reasoning behind the score.

    5. **Stage Classification (Mandatory Logic)**:

        You must assign one of the following values to the `"stage"` key:
        - `"Intern"`
        - `"POC"`
        - `"Production"`

        Apply this logic in the following strict order:

        1. **Intern Override Rule (Highest Priority)**:  
            - If the project was done **while the candidate was an intern, trainee, apprentice, or student**,  
                then set `"stage"` to `"Intern"` â€”  
                even if the project was deployed in production or described as a real-world implementation.

        2. If NOT an intern project, then:
            - Set `"stage"` to `"POC"` if the project is a prototype, hackathon, research, or academic demo.
            - Set `"stage"` to `"Production"` if the project was used by real users, deployed, integrated into systems, or had measurable impact.

        ðŸ›‘ Do not ignore the **intern override rule** under any circumstance.

    - Use the most reasonable inference from resume context.

    ---
    
    ### âœ… Output Format (JSON):
    {output_format}

company_extractor:
  template: >
    You are an expert resume parser.
    
    Your task is to analyze the resume and extract the candidate's **employment history**, with emphasis on position, company, duration, and type of employment.
    
    ---

    ### Resume Text:
    {resume}
    
    ---
    
    ### Your Output Should Include:
    
    For each job listed in the resume, extract the following fields:
    
    1. **company**: Name of the company or organization  
    2. **position**: Role or job title held by the candidate  
    3. **start_year**: Year the candidate started this job (as a 4-digit integer, e.g., 2018)  
    4. **end_year**: Year the candidate ended the job.  
       - If the candidate is still working in this company, set this to `"Currently Working"`  
    5. **employment_type**: One of the following categories, based on context clues:
       - `"Permanent"`
       - `"Intern"`
       - `"Part Time"`
       - `"Contractual"`
       - `"Non Permanent"` (includes freelance, temporary, consultant, volunteer, etc.)
    
    ---
    
    ### Logic Guidelines:
    
    - If the candidate **is still employed**, based on phrases like `Present`, `Currently`, `Current`, or missing end date â†’ set `"end_year"` as `"Currently Working"`
    - Use keywords or role context to determine **employment_type**:
      - If job title includes `Intern`, `Trainee`, or similar â†’ `"Intern"`
      - If the role is `Part-time`, `Evening job`, or `Side gig` â†’ `"Part Time"`
      - If it includes `Contract`, `Contractual`, `Freelancer`, or `Outsourced` â†’ `"Contractual"`
      - If temporary, freelance, project-based, or volunteer â†’ `"Non Permanent"`
      - Else â†’ `"Permanent"`
    - Try to infer job type even if labels are implicit (e.g., "6-month assignment" could mean `"Contractual"`)
    - Only include positions where both **company** and **position** can be reasonably identified
    - List jobs in **reverse chronological order** (most recent first)

    ---

    ### Final Instruction:

    - Do not invent or hallucinate companies, roles, or dates.
    - Ensure the final output is in valid JSON format and includes all specified keys for each job.
    
extract_names:
  template: >
    You are given the text content of a resume and, if available, the candidateâ€™s email address.  
    Your task is to identify the name of the candidate.  
    
    Instructions:  
    - Search for the name in typical places such as the resume header, first few lines, or before contact details.  
    - If the resume does not explicitly state the name, infer it from the email address if possible (e.g., john.doe@email.com â†’ John Doe).  
    - The name must be in proper case (e.g., "John Doe").  
    - If no reasonable name can be found or inferred, set the value to "Name Not Found".  
    
    ### Resume Text:
    {resume_text}
    
    ### Email:
    {email_id}

    ### Output Format (JSON):
    {output_format}
    
extract_yoe:
  template: >
    **CRITICAL: Output ONLY the JSON dictionary. NO explanations, NO reasoning, NO extra text.**
    
    Task: Calculate total years of experience (yoe) and relevant years for "{job_role}" (ryoe).
    
    Current date: {current_date}
    
    Resume:
    {resume}
    
    **Rules:**
    1. YOE = total professional work experience (full-time/part-time/contract/freelance AFTER graduation)
       - EXCLUDE: internships, academic work, coursework, projects, volunteering
       - Handle overlapping periods (count each month only once)
       - Parse date formats: "Oct'17", "2017-2020", "Present" = {current_date}
       - Month precision: if only year given, assume July 1st
    
    2. RYOE = experience directly relevant to "{job_role}"
       - Job title matches or synonymous with {job_role}
       - OR â‰¥2 strong signals: relevant skills, tools, responsibilities matching {job_role}
       - Must be â‰¤ yoe
    
    3. Edge cases:
       - No experience found â†’ yoe: 0.0, ryoe: 0.0
       - No relevant experience â†’ ryoe: 0.0
    
    **REMINDER: Return ONLY the JSON. Nothing else. No text before or after.**

extract_recruiters_overview:
  template: >
    You are an expert recruiter-assistant and resume summarizer.  
    Input placeholders (replace with actual values before sending):
    - Target job role: "{job_role}"
    - Resume text: {resume}
    - Current date (for "Present"): {current_date}
    
    GOAL:
    Produce a concise, recruiter-style overview of the candidate that follows the example format exactly (top profile bullets, blank line, "Relevant Experience - X+ years.", then technology/competency sections with nested bullets). The overview must be evidence-first (only assert what the resume supports) and formatted exactly as described below.
    
    IMPORTANT OUTPUT RULES (MUST FOLLOW EXACTLY):
    - Output ONLY the overview text (no reasoning, no timelines, no JSON, no code fences, no extra commentary).
    - Use the bullet character "â€¢" for top-level profile bullets.
    - Use the hyphen "-" for nested bullets inside technology/competency sections.
    - Provide exactly 6â€“10 top profile bullets (each starting with "â€¢"), then one blank line, then the single line: `Relevant Experience - X+ years.`, then competency sections (headers + "-" bullets).
    - Each top-level bullet should be 8â€“20 words where possible, concise and evidence-based.
    - Do NOT include raw dates, timeline calculations, or internal processing steps in the output.
    - If NO professional experience is found, output exactly:
      â€¢ No professional experience found.
      
      Relevant Experience - 0+ years.
      (and then stop â€” no further sections)
    
    INTERNAL EXTRACTION & CALCULATION STEPS (THINK THESE STEPS, DO NOT OUTPUT THEM):
    1) Extract Employment Spans
       - Identify all professional roles: full-time, part-time, contract, freelance/consulting count as experience.
       - Exclude: internships, academic projects, coursework unless explicitly stated as post-graduation full-time employment.
       - Parse messy date formats (e.g., "Octâ€™17", "Apr'21", "2017â€“2020", "Present").
       - Normalize dates:
         â€¢ month+year â†’ use the 1st of that month (e.g., Oct 2017 â†’ 2017-10-01).
         â€¢ year-only â†’ use July 01 of that year (e.g., 2017 â†’ 2017-07-01).
         â€¢ "Present" or missing end â†’ use {current_date}.
         â€¢ If only a start exists, end = {current_date}.
       - Discard employment spans clearly during education unless explicitly professional post-graduation.
    
    2) Compute Overall and Relevant Experience
       - UNION all normalized employment spans to get unique months â†’ overall months â†’ overall_years = months / 12.
       - Build relevance signals for {job_role}:
         â€¢ Title exact/close matches (including synonyms) â†’ strong signal.
         â€¢ Role bullets containing â‰¥2 strong signals (tools, methods, domains, deliverables) â†’ strong signal.
         â€¢ Strong signals are explicit mentions such as domain names, technologies, frameworks, methods, or common role verbs (e.g., "predictive modeling", "Spark", "NLP", "LLM", "ETL", "FastAPI", "BigQuery").
         â€¢ If ambiguous, default to NOT relevant unless â‰¥2 strong signals exist.
       - UNION spans flagged RELEVANT â†’ relevant_months â†’ ryoe = relevant_months / 12.
       - For header `Relevant Experience - X+ years.` compute X = floor(ryoe) if ryoe â‰¥ 1; otherwise X = 0.
    
    3) Evidence-first phrasing rules
       - Only include skills/platforms/years/certifications explicitly present in the resume.
       - If resume uses weak language (e.g., "familiarity", "exposure to"), reflect that word choice.
       - If resume states strong usage (e.g., "developed", "deployed", "led"), use stronger phrasing ("experience in", "proven experience with").
       - When in doubt, be conservative: prefer "familiarity with" over "strong experience in".
    
    4) Section & content generation (what to include and how)
       - Top profile bullets (6â€“10):
         â€¢ First bullet: evidence-based overall pitch (e.g., "X+ years working experience in <domain/role>"), prefer referencing the role and domain if resume supports it.
         â€¢ Include teamwork/communication/soft skills only if resume contains evidence.
         â€¢ Include one bullet about core technical strengths (languages, ML, cloud) if present.
         â€¢ Include one bullet on systems/architecture/scale or big-data experience if present.
         â€¢ Include one bullet on DevOps/CI-CD/deployment if present.
         â€¢ Include one bullet on problem-solving/business impact or client-facing experience if present.
       - After blank line, print: `Relevant Experience - X+ years.` using the X calculated above.
       - Primary competency groups (choose 3â€“6 based on resume content and <job_role>). Examples:
         â€¢ "Proficiency in working with <Primary_Tech_or_Stack>:" â€” include 3â€“6 "-" bullets describing architecture/usage/operations/optimization/deployment/integrations (use resume evidence).
         â€¢ "Familiarity with the <Ecosystem/Platform>:" â€” include 1â€“3 "-" bullets listing tools and usage notes.
         â€¢ "Cloud & Data Services / DevOps:" â€” include "-" bullets on cloud services used, CI/CD, Docker, orchestration, managed services.
         â€¢ "Languages, Frameworks & Databases:" â€” list specific languages, frameworks, DBs with short context (e.g., "experience building APIs using FastAPI/Flask").
         â€¢ "Domain & Business Context:" â€” evidence of industry domains (Telecom, Finance, Insurance, Manufacturing) and scale/impact.
         â€¢ "Soft skills & communication:" â€” 1â€“3 "-" bullets about team fit, client engagement, leadership if supported.
         â€¢ "Education & Certifications:" â€” 1â€“2 "-" bullets if relevant degrees/certs are present.
       - For each "-" bullet, keep 10â€“18 words and make it actionable (what they did/used, and for what outcome if present).
       - Avoid listing every minor tool; prioritize role-relevant, resume-supported tools.
       - Technical proficiencies (3-8 items in the list):
       - Each item should be 10-20 words covering a specific technology group or domain
    
    5) Tone, wording, and final constraints
       - Use recruiter-friendly concise phrasing (present-tense or past-tense as appropriate).
       - Do NOT include numeric timelines, raw date ranges, or internal calculations in the text.
       - Do NOT output internal reasoning or any extra text beyond the overview.
       - If contradictions or unclear spans exist, omit the uncertain claim rather than guess.

extract_location:
  template: >
    You are an expert in analyzing resumes and extracting candidate information.

    Your task is to deduce the **candidateâ€™s location** from the provided resume text and assign a **confidence score (0â€“100)** for your prediction.
    
    ---
    
    ### Step-by-Step Reasoning Process:
    
    1. **Identify the Most Recent Job**  
       - Look for the candidateâ€™s latest job experience.  
       - If a company and location are mentioned, take this as the primary hint.  
    
    2. **Check Personal/Contact Information**  
       - Scan the top section of the resume for addresses, cities, states, or countries.  
       - If this matches or complements the most recent job location, increase confidence.  
    
    3. **Analyze Education Section**  
       - If no recent job is available, check the location of the candidateâ€™s most recent education institution.  
    
    4. **Cross-Reference Other Clues**  
       - Phone number country codes, email domains, LinkedIn profiles, or project client regions may hint at location.  
    
    5. **Resolve Ambiguities**  
       - If multiple locations are found, choose the one most closely tied to the **most recent professional or educational activity**.  
    
    6. **Assign Confidence Score**  
       - **80â€“100 (High confidence):** Location explicitly stated in recent job.  
       - **50â€“79 (Medium confidence):** Location inferred from education or older jobs.  
       - **0â€“49 (Low confidence):** Ambiguous or no strong evidence; best guess.  
    
    ---
    
    ### Input:
    **Resume Text:**  
    {resume_text}
    
    ---

    **Output format:**
    {output_format}

designation_extractor:
  template: >
    **Task: Extract the candidate's current and previous job information from the resume.**
    
    Resume:
    {resume}
    
    **Steps:**
    
    1. **Identify all employment entries** in the resume with job titles, company names, and dates
    
    2. **Sort by recency** - Determine which role is most recent based on:
       - End dates (roles ending with "Present", "Current", ongoing, or latest year)
       - Start dates if end dates are unclear
    
    3. **Extract current_designation:**
       - Combine job title and company name in format: "Job Title at Company Name"
       - Use the most recent role
       - If multiple current roles exist, choose the one listed first
       - Set to null if NO employment history found
    
    4. **Extract previous_designation:**
       - Combine job title and company name in format: "Job Title at Company Name"
       - Use the role immediately before the current one
       - Set to null if less than 2 jobs found
    
    **Rules:**
    - Format: "[Exact Job Title] at [Exact Company Name]"
    - Use EXACT titles and company names as written in resume
    - Do NOT invent or modify titles or company names
    - Include " at " between title and company (lowercase "at")
    - If employment section is missing/empty â†’ both fields null
    - If only 1 job exists â†’ current_designation = that job, previous_designation = null
    
    **Examples:**
    
    Resume: "Data Scientist at Google (2022-Present), Software Engineer at Amazon (2019-2022)"
    Output: 
      current_designation = "Data Scientist at Google"
      previous_designation = "Software Engineer at Amazon"
    
    Resume: "Junior Developer at TechStartup (2023-2024)"
    Output: 
      current_designation = "Junior Developer at TechStartup"
      previous_designation = null
    
    Resume with no jobs:
    Output: 
      current_designation = null
      previous_designation = null

    ---
    
    ### Output Format (JSON):
    {output_format}
    



